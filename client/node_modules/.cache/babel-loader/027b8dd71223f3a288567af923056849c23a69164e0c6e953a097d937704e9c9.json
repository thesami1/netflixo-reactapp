{"ast":null,"code":"import { logoutAction } from \"./Actions/userActions\";\nexport const ErrorsAction = (error, dispatch, action) => {\n  const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n  if (message === \"Not authorized, token failed\") {\n    dispatch(logoutAction());\n  }\n  return dispatch({\n    type: action,\n    payload: message\n  });\n};\n\n// api token protection\n_c = ErrorsAction;\nexport const tokenProtection = getState => {\n  const {\n    userLogin: {\n      userInfo\n    }\n  } = getState();\n  if (!(userInfo !== null && userInfo !== void 0 && userInfo.token)) {\n    return null;\n  } else {\n    return userInfo === null || userInfo === void 0 ? void 0 : userInfo.token;\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"ErrorsAction\");","map":{"version":3,"names":["logoutAction","ErrorsAction","error","dispatch","action","message","response","data","type","payload","_c","tokenProtection","getState","userLogin","userInfo","token","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/practice/client/src/Redux/Protection.js"],"sourcesContent":["import { logoutAction } from \"./Actions/userActions\";\r\n\r\nexport const ErrorsAction = (error, dispatch, action) => {\r\n  const message =\r\n    error.response && error.response.data.message\r\n      ? error.response.data.message\r\n      : error.message;\r\n  if (message === \"Not authorized, token failed\") {\r\n    dispatch(logoutAction());\r\n  }\r\n  return dispatch({ type: action, payload: message });\r\n};\r\n\r\n// api token protection\r\nexport const tokenProtection = (getState) => {\r\n  const {\r\n    userLogin: { userInfo },\r\n  } = getState();\r\n  if (!userInfo?.token) {\r\n    return null;\r\n  } else {\r\n    return userInfo?.token;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,uBAAuB;AAEpD,OAAO,MAAMC,YAAY,GAAGA,CAACC,KAAK,EAAEC,QAAQ,EAAEC,MAAM,KAAK;EACvD,MAAMC,OAAO,GACXH,KAAK,CAACI,QAAQ,IAAIJ,KAAK,CAACI,QAAQ,CAACC,IAAI,CAACF,OAAO,GACzCH,KAAK,CAACI,QAAQ,CAACC,IAAI,CAACF,OAAO,GAC3BH,KAAK,CAACG,OAAO;EACnB,IAAIA,OAAO,KAAK,8BAA8B,EAAE;IAC9CF,QAAQ,CAACH,YAAY,EAAE,CAAC;EAC1B;EACA,OAAOG,QAAQ,CAAC;IAAEK,IAAI,EAAEJ,MAAM;IAAEK,OAAO,EAAEJ;EAAQ,CAAC,CAAC;AACrD,CAAC;;AAED;AAAAK,EAAA,GAXaT,YAAY;AAYzB,OAAO,MAAMU,eAAe,GAAIC,QAAQ,IAAK;EAC3C,MAAM;IACJC,SAAS,EAAE;MAAEC;IAAS;EACxB,CAAC,GAAGF,QAAQ,EAAE;EACd,IAAI,EAACE,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEC,KAAK,GAAE;IACpB,OAAO,IAAI;EACb,CAAC,MAAM;IACL,OAAOD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,KAAK;EACxB;AACF,CAAC;AAAC,IAAAL,EAAA;AAAAM,YAAA,CAAAN,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}