{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Downloads\\\\practice\\\\client\\\\src\\\\Screens\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Input } from \"../Components/UsedInputs\";\nimport Layout from \"../Layout/Layout\";\nimport { FiLogIn } from \"react-icons/fi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { LoginValidation } from \"../Components/Validation/UserValidation\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\n// import { InlineError } from \"../Components/Notfications/Error\";\nimport { loginAction } from \"../Redux/Actions/userActions\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    isLoading,\n    isError,\n    userInfo,\n    isSuccess\n  } = useSelector(state => state.userLogin);\n\n  // validate user\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(LoginValidation)\n  });\n\n  // on submit\n  const onSubmit = data => {\n    dispatch(loginAction(data));\n  };\n\n  // useEffect\n  useEffect(() => {\n    if (userInfo !== null && userInfo !== void 0 && userInfo.isAdmin) {\n      navigate(\"/dashboard\");\n    } else if (userInfo) {\n      navigate(\"/profile\");\n    }\n    if (isSuccess) {\n      toast.success(`Welcome back ${userInfo === null || userInfo === void 0 ? void 0 : userInfo.fullName}`);\n    }\n    if (isError) {\n      toast.error(isError);\n      dispatch({\n        type: \"USER_LOGIN_RESET\"\n      });\n    }\n  }, [userInfo, isSuccess, isError, navigate, dispatch]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-2 my-24 flex-colo\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"w-full 2xl:w-2/5 gap-8 flex-colo p-8 sm:p-14 md:w-3/5 bg-dry  rounded-lg border border-border\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/logo.png\",\n          alt: \"logo\",\n          className: \"w-full h-12 object-contain\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Email\",\n            placeholder: \"netflixo@gmail.com\",\n            type: \"email\",\n            name: \"email\",\n            register: register(\"email\"),\n            bg: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(InlineError, {\n            text: errors.email.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Password\",\n            placeholder: \"*******\",\n            type: \"password\",\n            bg: true,\n            name: \"password\",\n            register: register(\"password\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), errors.password && /*#__PURE__*/_jsxDEV(InlineError, {\n            text: errors.password.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isLoading,\n          className: \"bg-subMain transitions hover:bg-main flex-rows gap-4 text-white p-4 rounded-lg w-full\",\n          children:\n          // if loading show loading\n          isLoading ? \"Loading...\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(FiLogIn, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this), \" Sign In\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-border\",\n          children: [\"Don't have an account?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            className: \"text-dryGray font-semibold ml-2\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"a4vhDeuR40t6KGMgv4pubSc2MnY=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useForm];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","Link","useNavigate","Input","Layout","FiLogIn","useDispatch","useSelector","useForm","LoginValidation","yupResolver","loginAction","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","dispatch","navigate","isLoading","isError","userInfo","isSuccess","state","userLogin","register","handleSubmit","formState","errors","resolver","onSubmit","data","isAdmin","success","fullName","error","type","children","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","label","placeholder","name","bg","email","InlineError","text","message","password","disabled","to","_c","$RefreshReg$"],"sources":["C:/Users/hp/Downloads/practice/client/src/Screens/Login.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { Input } from \"../Components/UsedInputs\";\nimport Layout from \"../Layout/Layout\";\nimport { FiLogIn } from \"react-icons/fi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"react-hook-form\";\nimport { LoginValidation } from \"../Components/Validation/UserValidation\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\n// import { InlineError } from \"../Components/Notfications/Error\";\nimport { loginAction } from \"../Redux/Actions/userActions\";\nimport toast from \"react-hot-toast\";\n\nfunction Login() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const { isLoading, isError, userInfo, isSuccess } = useSelector(\n    (state) => state.userLogin\n  );\n\n  // validate user\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(LoginValidation),\n  });\n\n  // on submit\n  const onSubmit = (data) => {\n    dispatch(loginAction(data));\n  };\n\n  // useEffect\n  useEffect(() => {\n    if (userInfo?.isAdmin) {\n      navigate(\"/dashboard\");\n    } else if (userInfo) {\n      navigate(\"/profile\");\n    }\n    if (isSuccess) {\n      toast.success(`Welcome back ${userInfo?.fullName}`);\n    }\n    if (isError) {\n      toast.error(isError);\n      dispatch({ type: \"USER_LOGIN_RESET\" });\n    }\n  }, [userInfo, isSuccess, isError, navigate, dispatch]);\n\n  return (\n    <Layout>\n      <div className=\"container mx-auto px-2 my-24 flex-colo\">\n        <form\n          onSubmit={handleSubmit(onSubmit)}\n          className=\"w-full 2xl:w-2/5 gap-8 flex-colo p-8 sm:p-14 md:w-3/5 bg-dry  rounded-lg border border-border\"\n        >\n          <img\n            src=\"/images/logo.png\"\n            alt=\"logo\"\n            className=\"w-full h-12 object-contain\"\n          />\n          <div className=\"w-full\">\n            <Input\n              label=\"Email\"\n              placeholder=\"netflixo@gmail.com\"\n              type=\"email\"\n              name=\"email\"\n              register={register(\"email\")}\n              bg={true}\n            />\n            {errors.email && <InlineError text={errors.email.message} />}\n          </div>\n\n          <div className=\"w-full\">\n            <Input\n              label=\"Password\"\n              placeholder=\"*******\"\n              type=\"password\"\n              bg={true}\n              name=\"password\"\n              register={register(\"password\")}\n            />\n            {errors.password && <InlineError text={errors.password.message} />}\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"bg-subMain transitions hover:bg-main flex-rows gap-4 text-white p-4 rounded-lg w-full\"\n          >\n            {\n              // if loading show loading\n              isLoading ? (\n                \"Loading...\"\n              ) : (\n                <>\n                  <FiLogIn /> Sign In\n                </>\n              )\n            }\n          </button>\n          <p className=\"text-center text-border\">\n            Don't have an account?{\" \"}\n            <Link to=\"/register\" className=\"text-dryGray font-semibold ml-2\">\n              Sign Up\n            </Link>\n          </p>\n        </form>\n      </div>\n    </Layout>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}